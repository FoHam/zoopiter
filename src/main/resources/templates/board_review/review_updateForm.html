<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>동물병원 후기 작성</title>
  <link rel="stylesheet" href="/css/board_review-update.css" />
  <!-- 폰트 어썸 : 로고 -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script
      src="https://kit.fontawesome.com/6631aa96e6.js"
      crossorigin="anonymous"
  ></script>
  <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"
  />
</head>
<body>
<div class="wrap">
  <div class="hd-l"></div>
  <header class="hd">
    <!-- 프레그먼트 반영:menu  -->
    <th:block th:replace="~{fragment/menu::gnb}"></th:block>
  </header>
  <div class="hd-r"></div>

  <div class="title-l"></div>
  <form id="frm" action="" method="post" th:object="${updateForm}" enctype="multipart/form-data" >
    <input type="hidden" id="bbshId" readonly th:field="*{bbshId}" />
    <div class="title">
      <div class="title-row">
        <div class="main">동물병원 후기 작성</div>
      </div>
    </div>
    <div class="title-r"></div>

    <div class="title-name-l"></div>
    <div class="title-name">
      <div class="title-name-star">
        <div class="input">
          <input type="text" th:field="*{bhTitle}" />
        </div>
        <div class="star-ratings">
          <div class="star-rating space-x-4 mx-auto">
            <input
                type="radio"
                id="5-stars"
                name="rating"
                value="5"
                v-model="ratings"
                th:field="*{bhStar}"
            />
            <label for="5-stars" class="star pr-4" >★</label>
            <input
                type="radio"
                id="4-stars"
                name="rating"
                value="4"
                v-model="ratings"
                th:field="*{bhStar}"
            />
            <label for="4-stars" class="star" >★</label>
            <input
                type="radio"
                id="3-stars"
                name="rating"
                value="3"
                v-model="ratings"
                th:field="*{bhStar}"
            />
            <label for="3-stars" class="star">★</label>
            <input
                type="radio"
                id="2-stars"
                name="rating"
                value="2"
                v-model="ratings"
                th:field="*{bhStar}"
            />
            <label for="2-stars" class="star">★</label>
            <input
                type="radio"
                id="1-star"
                name="rating"
                value="1"
                v-model="ratings"
                th:field="*{bhStar}"
            />
            <label for="1-star" class="star">★</label>
          </div>
        </div>
      </div>
    </div>
    <div class="title-name-r"></div>

    <div class="hos-search-l"></div>

    <div class="hos-search">
      <div class="hos-search-star">
        <div class="search">
          <input type="text" />
          <button type="button" class="openBtn">검색</button>
        </div>
        <div class="star-ratings">
          <!-- <div class="star-rating space-x-4 mx-auto">
    <input type="radio" id="5-stars" name="rating" value="5" v-model="ratings"/>
    <label for="5-stars" class="star pr-4">★</label>
    <input type="radio" id="4-stars" name="rating" value="4" v-model="ratings"/>
    <label for="4-stars" class="star">★</label>
    <input type="radio" id="3-stars" name="rating" value="3" v-model="ratings"/>
    <label for="3-stars" class="star">★</label>
    <input type="radio" id="2-stars" name="rating" value="2" v-model="ratings"/>
    <label for="2-stars" class="star">★</label>
    <input type="radio" id="1-star" name="rating" value="1" v-model="ratings" />
    <label for="1-star" class="star">★</label>
  </div> -->
        </div>
      </div>
      <div class="modal hidden">
        <div class="bg"></div>

        <div class="modalBox">
          <div class="title">
            <h2>동물병원 검색</h2>
            <div class="btn">
              <button type="button" class="closeBtn1">✖</button>
            </div>
          </div>
          <div class="mid">
            <div class="hos">병원 검색</div>
            <div class="input">
              <input type="text" />
              <button type="button">검색</button>
            </div>
          </div>
          <div
              class="res"
              style="overflow: auto; width: 500px; height: 400px"
              ;
          >
            찾으실 동물병원을 검색해 주세요Lorem ipsum dolor sit amet
            consectetur adipisicing elit. Ratione facilis vitae dolorum
            possimus optio est dolorem aut numquam voluptates perferendis
            debitis, dolores doloribus reiciendis harum provident
            repudiandae. Asperiores, repellat eos. Eligendi quam, quisquam
            atque eaque ullam facere asperiores suscipit labore blanditiis
            voluptates assumenda ipsam consectetur voluptatibus. Minus,
            repellat? Qui quos voluptate dolore perspiciatis dignissimos
            odio alias earum culpa consectetur corrupti! Culpa eaque
            corrupti a sunt quidem ad. Ratione autem alias a repudiandae
            soluta, ullam eum voluptatum magni illum aut omnis facilis
            suscipit, natus quidem labore quam ut dolorem nobis ea! Adipisci
            consequatur officia obcaecati ab quisquam incidunt officiis
            sequi iusto, nesciunt at dolore quasi atque magnam aliquam!
            Tempore cum odio modi! Maiores aut repudiandae, harum odio culpa
            recusandae autem dicta? Ut, facilis delectus natus ullam officia
            libero similique nam laboriosam necessitatibus, est iure impedit
            aut iusto repellat id expedita, dignissimos optio. Quasi culpa
            distinctio praesentium consequatur aperiam, magnam sed tempora.
            Earum, accusamus. Aut labore animi ipsa totam! Officia pariatur
            similique ad eius corporis impedit possimus laborum vero nam
            blanditiis nisi maiores, labore eaque voluptas aspernatur, saepe
            facilis quos sunt. Odit? Esse nisi dolorum ratione voluptates
            architecto facere, omnis eos cumque placeat quisquam. Deleniti
            voluptas hic blanditiis excepturi! Quia in consectetur illum
            corrupti sapiente illo, impedit obcaecati! Minima pariatur
            explicabo harum.
          </div>
          <div class="bot">
            <div class="btn">
              <button type="button" class="closeBtn2">닫기</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="hos-search-r"></div>
    <div class="main-text-l"></div>
    <div class="main-text">
      <div class="input">
        <div class="input_text">
              <textarea
                  style="resize: none"
                  th:field="*{bhContent}"
                  spellcheck="false"
              ></textarea>
        </div>
      </div>
    </div>
    <div class="main-text-r"></div>

    <div class="sort-l"></div>
    <div class="sort">
      <div class="sort-row">
        <div class="search">
          <div class="tag">동물태그</div>
          <div class="selectBox1">
            <select class="select" th:field="*{petType}">
              <option value="">동물 대분류</option>
              <option value="#개">개</option>
              <option value="#고양이">고양이</option>
              <option value="#소동물">소동물</option>
              <option value="기타">기타</option>
            </select>
            <span class="icoArrow"
            ><img src="/img/under.png" alt=""
            /></span>
          </div>
        </div>
      </div>
    </div>
    <div class="sort-r"></div>

    <div class="load-tag-l"></div>
    <div class="load-tag"></div>
    <div class="load-tag-r"></div>
    <div class="alarm-l"></div>
    <div class="alarm">
      <label for="ex_filename">
        <div class="pic">
          <span class="material-symbols-outlined"> photo_camera </span>사진첨부
        </div>
      </label>
      <input
          class="upload-name"
          value="파일은 파일1개당 최대 300mb 이내로 업로드 가능합니다."
          disabled="disabled"
      />

      <input
          type="file"
          id="ex_filename"
          class="upload-hidden"
          th:field="*{imageFiles}" multiple
      />
      <!--      <div th:each="file : ${imagedFiles}" class="view__img">-->
      <!--        <th:block th:if="${#strings.contains(file.ftype,'image')}">-->
      <!--          &lt;!&ndash;     파일명      &ndash;&gt;-->
      <!--          <p th:text="${file.upload_filename}" style="font-size: 14px; margin-right: 10px;"></p>-->
      <!--          <img th:src="@{|/attach/view/${file.uploadfileId}|}" th:width="30px" th:height="30px">-->
      <!--        </th:block>-->
      <!--        <i class="fa-solid fa-trash-can" th:data-rid="${file.uploadfileId}"></i>-->
      <!--      </div>-->
    </div>
    <div class="alarm-r"></div>

    <div class="complete-l"></div>
    <div class="complete">
      <div>
        <button id="btnUpdate" type="submit">등록</button>
        <button id="btnDelete">취소</button>
      </div>
    </div>
    <div class="complete-r"></div>
  </form>
</div>

<script>
      const $bbshId = document.getElementById('bbshId');
      const $btnDelete = document.getElementById('btnDelete');

      const btnDelete_h = e => {
        if (confirm('취소 하시겠습니까?')) {
          globalThis.location.href = `/BBSH/${$bbshId.value}/detail`;
          return true; // return true;로 수정
        }
      };

      $btnDelete.addEventListener('click', btnDelete_h, false);

      // 파일명 클릭 시 파일 선택 창 띄우기
      $('.alarm .upload-name').click(function () {
        $(this).siblings('.upload-hidden').trigger('click');
      });
      const open = () => {
        document.querySelector('.modal').classList.remove('hidden');
      };

      const close = () => {
        document.querySelector('.modal').classList.add('hidden');
      };

      document.querySelector('.openBtn').addEventListener('click', open);
      document.querySelector('.closeBtn1').addEventListener('click', close);
      document.querySelector('.closeBtn2').addEventListener('click', close);
      document.querySelector('.bg').addEventListener('click', close);



    </script>
</body>
</html>
